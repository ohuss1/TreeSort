<html>
<head>

</head>
<body>
<canvas height="500" width="500" id="ctx" style="border: 4px solid #cc6e6e;">
	
</canvas>

<p id="demo"></p>


<form>
  <div>
    <label for="uname">Please Type the numbers up to 10 to sort separated by space: </label>
    <input type="text" id="uname" name="name" required size="20" maxlength="29" 
           pattern="([0-9]+\s+){0,9}[0-9.]{0,9}">
    <!-- <span class="validity"></span> -->
    <!-- <p>Usernames must be lowercase and 0-9 characters in length.</p> -->
  </div>
  <div>
    <button type="button" onclick="saveUserInput();">Step1</button>
    <button type="button" onclick="createNodesArray();">Step2</button>
  </div>
</form>
<script type="text/javascript">
	
/*function myFunction() {
  var numArg = prompt("Please enter the numbers you want to sort", " ");
  var numArr=numArg.split(" ");
  if (numArg != null) {
    document.getElementById("demo").innerHTML=numArg;
  }
}*/
var c = document.getElementById("ctx");
var ctx = c.getContext("2d");
var canHeight=500;
var userIn="";
var numArr="";//array of string numbers
var NodesArray="";
var counter=0;//for the tree traversal
var currNode=0;
saveUserInput=function () {
	// body...
	userIn=document.getElementById("uname").value;
	document.getElementById("demo").innerHTML=userIn;
	numArr=userIn.split(" ");
	NodesArray=userIn.split(" ");
	//converting the string to integer
	for (var i = 0; i < numArr.length; i++) {
		numArr[i]=parseInt(numArr[i]);
	}
}

//ADD NODE OBJECT AND ITS CREATE METHOD
//MUST HAVE NODE LEFT CHILD RIGHT CHILD IN THAT METHOD
//MUST HAVE NODE's stored NUMBER IN THAT OBJECT
//AND A NODE ID
//in JS A class is a type of function, but instead of using the keyword function to initiate it, we use the keyword class, and the properties are assigned inside a constructor() method.
//I have added x,y so that I know where to draw its child that is relative to it on right or left
class Node {
  constructor(value,parentNode,rightChild,leftChild,nodeID,depth,xdrawn,ydrawn) {
    this.value = null;
    this.parentNode=null;//is an integer nodeid
    this.rightChild=null;//is an integer nodeid
    this.leftChild=null;//is an integer nodeid
    this.nodeID=null;//simply position in array.using it to identify nodes
    this.depth=undefined;
  }
}
//start from element 0 of array
//set its value//
//next if element < than its left child of parent...ie set parent of element 1 and set left child of element 0

//Can use only draw but how to track depth array only has number so must have a tree object that i will keep updating to track depth

//draw function will be called for each element of array...so basically loop through array and draw and fill tree at same time
//1-
createNodesArray=function () {
	// body...

//Below is our array of nodes ie tree
//must happen after submission of numbers
for (var i = 0; i < numArr.length; i++) {
	
	myNode=new Node();
	myNode.nodeID=i;
	myNode.value=numArr[i];
	NodesArray[i]=myNode;

}
//currNode=new Node();//this shall be used for tree traversal
currNode=0;//this is nodeid 0 will use it for traversal of tree.
}
//


drawNode=function (x,y,depth,right,left,nodeVal) {
	// body...
	ctx.save();
	ctx.fillStyle="red";
	ctx.beginPath();
	ctx.arc(x, y, 15, 0, 2 * Math.PI);
//x,y,startangle,end angle
	ctx.fill();
	ctx.restore();
	ctx.save();
    ctx.font = "15px Comic Sans MS";
    ctx.fillStyle = "black";
    ctx.fillText(nodeVal, x-5, y+5);
    ctx.restore();
}
//2-Lets loop array//must happen after step 2 so can use a trigger for this like putting in start function
for (var i = 0; i < numArr.length; i++) {
	currNode=NodesArray[0].nodeID;//will update later just preset value. to traverse tree
	if((i)==0){
		NodesArray[0].value=numArr[i];
		NodesArray[0].depth=0;
		NodesArray[0].parent=null;
		NodesArray[0].rightChild=null;
		NodesArray[0].leftChild=null;
		console.log(NodesArray[i].value,NodesArray[currNode].value);
		
	}
	else if(((numArr[i]>=numArr[0]) && (NodesArray[0].rightChild===null))||((numArr[i]<numArr[0]) && (NodesArray[0].leftChild===null))){
	if((numArr[i]>=numArr[0]) && (NodesArray[0].rightChild===null)){
		NodesArray[0].rightChild=NodesArray[i].nodeID;
		NodesArray[i].parent=NodesArray[0].nodeID;
		console.log(NodesArray[i].value,NodesArray[currNode].value);
	}
	if((NodesArray[i].value<numArr[0]) && (NodesArray[0].leftChild===null)){
		NodesArray[0].leftChild=NodesArray[i].nodeID;
		NodesArray[i].parent=NodesArray[0].nodeID;
		console.log(NodesArray[i].value,NodesArray[currNode].value);
	}
	} 
	else{
	//Check if this numArr[i] is greater or less then NodesArray[counter] and keep going deeper keep checking until reach child null
	//keep changing the current node to child node to go deeper
	//NEED TO CHANGE CURRENT NODE WAS NODE THEN BECAME NODEID int
	while(currNode!=null){
	if(numArr[i]<NodesArray[currNode].value){
	if(NodesArray[currNode].leftChild===null){
	NodesArray[currNode].leftChild=NodesArray[i].nodeID;//set left child of currNode to the ith NodesArray element
	NodesArray[i].parent=NodesArray[currNode];//making parent of the node we inserted to point at currNode
	currNode=null;//to end while loop
	console.log(NodesArray[i].value,"null");
	}
	else if(NodesArray[currNode].leftChild!=null){
	currNode=NodesArray[currNode].leftChild;
	console.log(NodesArray[i].value,NodesArray[currNode].value);
	}
	
	}
	else if(numArr[i]>=NodesArray[currNode].value){
	if(NodesArray[currNode].rightChild===null){
	NodesArray[currNode].rightChild=NodesArray[i].nodeID;//set right child of currNode to the ith NodesArray element
	//need to set parent this node to curr node
	NodesArray[i].parent=NodesArray[currNode];
	currNode=null;//to end while loop
	console.log(NodesArray[i].value,"null");
	}
	else if(NodesArray[currNode].rightChild!=null){
	currNode=NodesArray[currNode].rightChild;
	console.log(NodesArray[i].value,NodesArray[currNode].value);
	}
	}
	}
	//have reached the spot where we put our node
	//NodesArray[currNode.parent]
	}
}
</script>

</body>
</html>